/*!
 * jquery-ajaxreadystate
 * @version 1.1.0
 * @author Alexander O'Mara
 * @copyright Copyright (c) 2015 Alexander O'Mara
 * @license MPL 2.0 <http://mozilla.org/MPL/2.0/>
 */
!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof exports?module.exports=a(require("jquery")):a(jQuery)}(function(a){a.ajaxreadystate=function(b,c){function d(){p=k.readyState=h.readyState,2>p&&(k.status=0,k.statusText="",k.responseText="");try{k.status=h.status||0}catch(a){}try{k.statusText=h.statusText||""}catch(a){}try{k.responseText=h.responseText||""}catch(a){}"function"==typeof j.readystate&&j.readystate(k,p),n&&4===p&&h.removeEventListener(n,d,!0),l&&l!==d&&l.apply(h,arguments)}function e(){var a=null;try{a=h.getAllResponseHeaders()}catch(b){}return a}var f,g,h,i,j,k,l,m,n,o=null,p=0;if(j="object"==typeof b?b:c||{},i=j.beforeSend,j.beforeSend=function(a,b){j.beforeSend=i,i&&i.apply(c,arguments),k=a,k.getAllResponseHeaders=function(){return p>1&&(o=o||e()),o},k.getResponseHeader=function(a){var b=null,c=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm;if(p>1){if(o=o||e(),o&&!m)for(m={};b=c.exec(o);)m[b[1].toLowerCase()]=b[2];m&&(a=a.toLowerCase(),b=m.hasOwnProperty(a)?m[a]:null)}return b},j=b,g=j.xhr,j.xhr=function(){j.xhr=g,h=g.apply(j,arguments),h.onreadystatechange=d;try{n=h.onreadystatechange!==d}catch(a){n=!0}return n&&(n=h.addEventListener)&&(h.onreadystatechange=null,h.addEventListener(n="readystatechange",d,!0)),h}},f=a.ajax.apply(a,arguments),!n)try{l=h.onreadystatechange,h.onreadystatechange=d}catch(q){}return f}});